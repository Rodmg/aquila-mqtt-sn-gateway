{"version":3,"sources":["../src/models/Message.ts"],"names":[],"mappings":";;AAAA,uCAAuC;AACvC,gCAA6B;AAC7B,qCAAkC;AAClC,mCAAgC;AAEnB,QAAA,OAAO,GAAG,OAAE,CAAC,MAAM,CAAC,SAAS,EAAE;IAC1C,EAAE,EAAE;QACF,IAAI,EAAE,SAAS,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,QAAQ;QACpC,SAAS,EAAE,KAAK;QAChB,UAAU,EAAE,IAAI;QAChB,aAAa,EAAE,IAAI;KACpB;IACD,OAAO,EAAE;QACP,IAAI,EAAE,SAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;KACjB;IACD,KAAK,EAAE;QACL,IAAI,EAAE,SAAS,CAAC,OAAO;QACvB,SAAS,EAAE,IAAI;KAChB;IACD,GAAG,EAAE;QACH,IAAI,EAAE,SAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;QAChB,YAAY,EAAE,KAAK;KACpB;IACD,MAAM,EAAE;QACN,IAAI,EAAE,SAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;QAChB,YAAY,EAAE,KAAK;KACpB;IACD,GAAG,EAAE;QACH,IAAI,EAAE,SAAS,CAAC,OAAO;QACvB,SAAS,EAAE,IAAI;KAChB;IACD,WAAW,EAAE;QACX,IAAI,EAAE,SAAS,CAAC,IAAI,CAAC,YAAY,EAAE,QAAQ,EAAE,aAAa,CAAC;QAC3D,SAAS,EAAE,KAAK;QAChB,YAAY,EAAE,QAAQ;KACvB;CACF,EAAE;IACD,YAAY,EAAE;QACZ,eAAe,EAAE;YACf,MAAM,CAAC;gBACL,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,eAAM;oBACb,EAAE,EAAE,QAAQ;oBACZ,KAAK,EAAE,IAAI;iBACZ;gBACD,KAAK,EAAE;oBACL,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,aAAK;oBACZ,EAAE,EAAE,OAAO;oBACX,KAAK,EAAE,IAAI;iBACZ;aACF,CAAA;QACH,CAAC;KACF;IACD,eAAe,EAAE,EAChB;IACD,KAAK,EAAE;QACL,gBAAgB,CAAC,KAAiB,EAAE,OAAY,EAAE,EAAY;YAC5D,OAAO,CAAC,eAAe,GAAG,IAAI,CAAC;YAC/B,EAAE,EAAE,CAAC;QACP,CAAC;QACD,iBAAiB,CAAC,OAAY,EAAE,EAAY;YAC1C,OAAO,CAAC,eAAe,GAAG,IAAI,CAAC;YAC/B,EAAE,EAAE,CAAC;QACP,CAAC;KACF;CACF,CAAC,CAAC","file":"Message.js","sourcesContent":["import * as DataTypes from 'sequelize';\nimport { db } from './../db';\nimport { Device } from './Device';\nimport { Topic } from './Topic';\n\nexport const Message = db.define('message', {\n  id: {\n    type: DataTypes.INTEGER(10).UNSIGNED,\n    allowNull: false,\n    primaryKey: true,\n    autoIncrement: true\n  },\n  message: {\n    type: DataTypes.STRING,\n    allowNull: false\n  },\n  msgId: {\n    type: DataTypes.INTEGER,\n    allowNull: true\n  },\n  dup: {\n    type: DataTypes.BOOLEAN,\n    allowNull: false,\n    defaultValue: false\n  },\n  retain: {\n    type: DataTypes.BOOLEAN,\n    allowNull: false,\n    defaultValue: false\n  },\n  qos: {\n    type: DataTypes.INTEGER,\n    allowNull: true\n  },\n  topicIdType: {\n    type: DataTypes.ENUM('short name', 'normal', 'pre-defined'),\n    allowNull: false,\n    defaultValue: 'normal'\n  }\n}, {\n  classMethods: {\n    getAssociations: () => {\n      return {     \n        device: {\n          type: 'belongsTo',\n          model: Device,\n          as: 'device',\n          hooks: true\n        },\n        topic: {\n          type: 'belongsTo',\n          model: Topic,\n          as: 'topic',\n          hooks: true\n        }\n      }\n    }\n  },\n  instanceMethods: {\n  },\n  hooks: {\n    beforeBulkCreate(items: Array<any>, options: any, fn: Function) {\n      options.individualHooks = true;\n      fn();\n    },\n    beforeBulkDestroy(options: any, fn: Function) {\n      options.individualHooks = true;\n      fn();\n    }\n  }\n});"],"sourceRoot":"/Users/rod/workshop/aquila-gateway/src"}