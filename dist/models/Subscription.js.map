{"version":3,"sources":["../src/models/Subscription.ts"],"names":[],"mappings":";;AAAA,uCAAuC;AACvC,gCAA6B;AAC7B,qCAAkC;AAClC,mCAAgC;AAEnB,QAAA,YAAY,GAAG,OAAE,CAAC,MAAM,CAAC,cAAc,EAAE;IACpD,EAAE,EAAE;QACF,IAAI,EAAE,SAAS,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,QAAQ;QACpC,SAAS,EAAE,KAAK;QAChB,UAAU,EAAE,IAAI;QAChB,aAAa,EAAE,IAAI;KACpB;IACD,GAAG,EAAE;QACH,IAAI,EAAE,SAAS,CAAC,OAAO;QACvB,SAAS,EAAE,IAAI;KAChB;CACF,EAAE;IACD,YAAY,EAAE;QACZ,eAAe,EAAE;YACf,MAAM,CAAC;gBACL,MAAM,EAAE;oBACN,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,eAAM;oBACb,EAAE,EAAE,QAAQ;oBACZ,KAAK,EAAE,IAAI;iBACZ;gBACD,KAAK,EAAE;oBACL,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,aAAK;oBACZ,EAAE,EAAE,OAAO;oBACX,KAAK,EAAE,IAAI;iBACZ;aACF,CAAA;QACH,CAAC;KACF;IACD,eAAe,EAAE,EAChB;IACD,KAAK,EAAE;QACL,gBAAgB,CAAC,KAAiB,EAAE,OAAY,EAAE,EAAY;YAC5D,OAAO,CAAC,eAAe,GAAG,IAAI,CAAC;YAC/B,EAAE,EAAE,CAAC;QACP,CAAC;QACD,iBAAiB,CAAC,OAAY,EAAE,EAAY;YAC1C,OAAO,CAAC,eAAe,GAAG,IAAI,CAAC;YAC/B,EAAE,EAAE,CAAC;QACP,CAAC;KACF;CACF,CAAC,CAAC","file":"Subscription.js","sourcesContent":["import * as DataTypes from 'sequelize';\nimport { db } from './../db';\nimport { Device } from './Device';\nimport { Topic } from './Topic';\n\nexport const Subscription = db.define('subscription', {\n  id: {\n    type: DataTypes.INTEGER(10).UNSIGNED,\n    allowNull: false,\n    primaryKey: true,\n    autoIncrement: true\n  },\n  qos: {\n    type: DataTypes.INTEGER,\n    allowNull: true\n  }\n}, {\n  classMethods: {\n    getAssociations: () => {\n      return {     \n        device: {\n          type: 'belongsTo',\n          model: Device,\n          as: 'device',\n          hooks: true\n        },\n        topic: {\n          type: 'belongsTo',\n          model: Topic,\n          as: 'topic',\n          hooks: true\n        }\n      }\n    }\n  },\n  instanceMethods: {\n  },\n  hooks: {\n    beforeBulkCreate(items: Array<any>, options: any, fn: Function) {\n      options.individualHooks = true;\n      fn();\n    },\n    beforeBulkDestroy(options: any, fn: Function) {\n      options.individualHooks = true;\n      fn();\n    }\n  }\n});"],"sourceRoot":"/Users/rod/workshop/aquila-gateway/src"}